(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{3939:function(e,s,t){Promise.resolve().then(t.bind(t,9319))},9319:function(e,s,t){"use strict";t.d(s,{default:function(){return c}});var a=t(7437),l=t(2265),i=t(9501),r=t(3590),n=t(7119),o=t(521);let d=n.Ry({name:n.Z_().min(2,"Name must be at least 2 characters"),email:n.Z_().email("Please enter a valid email address"),phone:n.Z_().min(10,"Please enter a valid phone number"),roomType:n.Km(["single","double"],{required_error:"Please select a room type"}),course:n.Z_().min(2,"Please enter your course"),yearOfStudy:n.Z_().min(1,"Please select your year of study"),nsfasFunded:n.Km(["yes","no"],{required_error:"Please indicate if you are NSFAS funded"})});function c(){let[e,s]=(0,l.useState)(!1),[t,n]=(0,l.useState)("idle"),{register:c,handleSubmit:m,formState:{errors:u},reset:x}=(0,i.cI)({resolver:(0,r.F)(d)}),p=async e=>{s(!0),n("idle");try{let s=await fetch("/api/applications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s.json();s.ok?(n("success"),x()):(console.error("Application error:",t),n("error"))}catch(e){console.error("Network error:",e),n("error")}finally{s(!1)}};return"success"===t?(0,a.jsxs)(o.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-navy mb-2",children:"Application Submitted!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Thank you for your application! We've received your submission and will review it promptly. Due to high demand at this exclusive residence, applications are processed on a first-come basis, and a waitlist is maintained. We'll contact you as soon as a space becomes available."}),(0,a.jsx)("button",{onClick:()=>n("idle"),className:"btn-primary",children:"Submit Another Application"})]}):(0,a.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-xl p-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-navy mb-2",children:"Join our Waitlist"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"Fill out the form below to join the waitlist for a room at Concordia House. All applications will be reviewed, and due to high demand, a waitlist will be maintained. All fields are required."}),(0,a.jsxs)("form",{onSubmit:m(p),className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",...c("name"),className:"input-field",placeholder:"Enter your full name"}),u.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.name.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,a.jsx)("input",{type:"email",...c("email"),className:"input-field",placeholder:"your.email@example.com"}),u.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),(0,a.jsx)("input",{type:"tel",...c("phone"),className:"input-field",placeholder:"082 123 4567"}),u.phone&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.phone.message})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Room Type *"}),(0,a.jsxs)("select",{...c("roomType"),className:"input-field",children:[(0,a.jsx)("option",{value:"",children:"Select room type"}),(0,a.jsx)("option",{value:"single",children:"Single Room"}),(0,a.jsx)("option",{value:"double",children:"Double Room"})]}),u.roomType&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.roomType.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course of Study *"}),(0,a.jsx)("input",{type:"text",...c("course"),className:"input-field",placeholder:"e.g., BCom, Engineering"}),u.course&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.course.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year of Study *"}),(0,a.jsxs)("select",{...c("yearOfStudy"),className:"input-field",children:[(0,a.jsx)("option",{value:"",children:"Select year"}),(0,a.jsx)("option",{value:"1",children:"First Year"}),(0,a.jsx)("option",{value:"2",children:"Second Year"}),(0,a.jsx)("option",{value:"3",children:"Third Year"}),(0,a.jsx)("option",{value:"4",children:"Fourth Year"}),(0,a.jsx)("option",{value:"postgrad",children:"Postgraduate"})]}),u.yearOfStudy&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.yearOfStudy.message})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Are you NSFAS funded? *"}),(0,a.jsxs)("select",{...c("nsfasFunded"),className:"input-field",children:[(0,a.jsx)("option",{value:"",children:"Select an option"}),(0,a.jsx)("option",{value:"yes",children:"Yes"}),(0,a.jsx)("option",{value:"no",children:"No"})]}),u.nsfasFunded&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.nsfasFunded.message})]}),"error"===t&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:"There was an error submitting your application. Please try again or contact us directly."})}),(0,a.jsx)("button",{type:"submit",disabled:e,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Submitting...":"Submit Application"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"By submitting this form, you agree to our terms and conditions. Due to high demand, applications are subject to availability and a waitlist may apply."})]})]})}}},function(e){e.O(0,[521,626,971,117,744],function(){return e(e.s=3939)}),_N_E=e.O()}]);